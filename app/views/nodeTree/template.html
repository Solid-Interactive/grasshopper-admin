<div class="nodeTree">

    <div data-rv-id="model.cid | prepend nodeTreeAccordionHeader" class="nodeTreeAccordionHeader">
        {{model:label | spaceBefore}}
				<a class="upload-button" data-rv-on-click="view.showUploadDialog"><i class="fa fa-plus"></i></a>
        <i data-rv-show="model:loading" class="fa fa-refresh fa fa-spin"></i>
    </div>

    <div class="nodeTreeAccordionContent">

        <div data-rv-each-node="model:children:" data-rv-nodetree="node" class="nodeTreeSubNode"></div>

        <ul data-rv-show="model:content | hasLength" class="no-bullet">

            <li data-rv-each-item="model:content:" class="nodeTreeSubNode" data-rv-filter-by-allowed-types="item">

                <input data-rv-id="item.cid" type="radio" name="selectedContent" class="selectedContentRadio"
                       data-rv-checked="model:selectedContent" data-rv-value="item:_id" data-rv-hide="model:nodeTreeType | equals file">

                <label data-rv-for="item.cid" class="noMarginBottom">

                    <!--This is for showing content-->
                    <span data-rv-show="model:nodeTreeType | equals content">
                        {{item:label}}
                    </span>

                    <!--This is for showing files-->
                    <span data-rv-show="model:nodeTreeType | equals file">
                        <div class="thumbnailContainer">
                            <img class="th nodeTreeThumbNail left" data-rv-src="item:url" data-rv-alt="item:fileName">
                        </div>

                        <div id="fileName">
                            <a>{{item:fileName}}</a>
                        </div>

                    </span>

                </label>

            </li>

        </ul>

        <div data-rv-hide="model:inSetup">
            <ul data-rv-hide="model:content | hasLength" class="no-bullet">
                <li data-rv-show="model:nodeTreeType | equals content">
                    {{model:resources->nodeTree->emptyFolder->content}}
                </li>
                <li data-rv-show="model:nodeTreeType | equals file">
                    {{model:resources->nodeTree->emptyFolder->files}}
                </li>
            </ul>
        </div>

    </div>

</div>